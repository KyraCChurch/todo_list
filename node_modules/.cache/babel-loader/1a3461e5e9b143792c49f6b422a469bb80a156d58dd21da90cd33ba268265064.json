{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kyrachurch/software_homework/unit_3/todo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/kyrachurch/software_homework/unit_3/todo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/kyrachurch/software_homework/unit_3/todo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/kyrachurch/software_homework/unit_3/todo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kyrachurch/software_homework/unit_3/todo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),completedTodos=_useState4[0],setCompletedTodos=_useState4[1];var _useState5=useState({title:'',completed:false}),_useState6=_slicedToArray(_useState5,2),newTodo=_useState6[0],setNewTodo=_useState6[1];//createTodos\nvar createTodo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var body,response,createdTodo,todosCopy;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:body=_objectSpread({},newTodo);_context.prev=1;_context.next=4;return fetch('/api/todos',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});case 4:response=_context.sent;_context.next=7;return response.json();case 7:createdTodo=_context.sent;todosCopy=[createdTodo].concat(_toConsumableArray(todos));setTodos(todosCopy);setNewTodo({title:'',completed:false});_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 16:case\"end\":return _context.stop();}},_callee,null,[[1,13]]);}));return function createTodo(){return _ref.apply(this,arguments);};}();//deleteTodos\n//moveToCompleted\n//getTodos\nvar getTodos=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,foundTodos,responseTwo,foundCompletedTodos;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch('/api/todos');case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:foundTodos=_context2.sent;setTodos(foundTodos.reverse);_context2.next=10;return fetch('/api/todos/completed');case 10:responseTwo=_context2.sent;_context2.next=13;return responseTwo.json();case 13:foundCompletedTodos=_context2.sent;setCompletedTodos(foundCompletedTodos.reverse);_context2.next=20;break;case 17:_context2.prev=17;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 20:case\"end\":return _context2.stop();}},_callee2,null,[[0,17]]);}));return function getTodos(){return _ref2.apply(this,arguments);};}();useEffect(function(){getTodos();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTodo.title,onChange:function onChange(e){setNewTodo(_objectSpread(_objectSpread({},newTodo),{},{title:e.target.value}));},onKeyDown:function onKeyDown(e){e.key==='Enter'&&createTodo();}}),/*#__PURE__*/_jsx(\"h3\",{children:\"Todos\"}),todos.map(function(todo){return/*#__PURE__*/_jsx(\"div\",{children:todo.title},todo._id);}),/*#__PURE__*/_jsx(\"h3\",{children:\"Completed Todos\"}),completedTodos.map(function(todo){return/*#__PURE__*/_jsx(\"div\",{children:todo.title},todo._id);})]});}","map":{"version":3,"names":["useState","useEffect","App","todos","setTodos","completedTodos","setCompletedTodos","title","completed","newTodo","setNewTodo","createTodo","body","fetch","method","headers","JSON","stringify","response","json","createdTodo","todosCopy","console","error","getTodos","foundTodos","reverse","responseTwo","foundCompletedTodos","e","target","value","key","map","todo","_id"],"sources":["/Users/kyrachurch/software_homework/unit_3/todo/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\n\nexport default function App(){\n    const [todos, setTodos] = useState([])\n    const [completedTodos, setCompletedTodos] = useState([])\n    const [newTodo, setNewTodo] = useState({\n        title: '',\n        completed: false\n    })\n\n    //createTodos\n    const createTodo = async () => {\n        const body = {...newTodo}\n        try {\n            const response = await fetch('/api/todos', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(body)\n            })\n            const createdTodo = await response.json()\n            const todosCopy = [createdTodo,...todos]\n            setTodos(todosCopy)\n            setNewTodo({\n                title: '', \n                completed: false\n        })\n        } catch (error) {\n            console.error(error)\n        }\n    }\n    //deleteTodos\n    //moveToCompleted\n    //getTodos\n    const getTodos = async () => {\n        try{\n            const response = await fetch('/api/todos')\n            const foundTodos = await response.json()\n            setTodos(foundTodos.reverse)\n            const responseTwo = await fetch('/api/todos/completed')\n            const foundCompletedTodos = await responseTwo.json()\n            setCompletedTodos(foundCompletedTodos.reverse)\n        } catch(error){\n            console.error(error)\n        }\n    }\n    useEffect(() => {\n        getTodos()\n    }, [])\n\n    return(<>\n        <input type=\"text\" \n        value={newTodo.title} \n        onChange={(e) => {\n            setNewTodo({...newTodo, title: e.target.value})\n        }}\n        onKeyDown={(e) => {\n            e.key === 'Enter' && createTodo()\n        }}\n        />\n        <h3>Todos</h3>\n        {todos.map(todo => <div key={todo._id}>{todo.title}</div>)}\n        <h3>Completed Todos</h3>\n        {completedTodos.map(todo => <div key={todo._id}>{todo.title}</div>)}\n    </>)\n}"],"mappings":"grBAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,8IAE3C,cAAe,SAASC,IAAG,EAAE,CACzB,cAA0BF,QAAQ,CAAC,EAAE,CAAC,wCAA/BG,KAAK,eAAEC,QAAQ,eACtB,eAA4CJ,QAAQ,CAAC,EAAE,CAAC,yCAAjDK,cAAc,eAAEC,iBAAiB,eACxC,eAA8BN,QAAQ,CAAC,CACnCO,KAAK,CAAE,EAAE,CACTC,SAAS,CAAE,KACf,CAAC,CAAC,yCAHKC,OAAO,eAAEC,UAAU,eAK1B;AACA,GAAMC,WAAU,4FAAG,4KACTC,IAAI,kBAAOH,OAAO,wCAEGI,MAAK,CAAC,YAAY,CAAE,CACvCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDH,IAAI,CAAEI,IAAI,CAACC,SAAS,CAACL,IAAI,CAC7B,CAAC,CAAC,QANIM,QAAQ,qCAOYA,SAAQ,CAACC,IAAI,EAAE,QAAnCC,WAAW,eACXC,SAAS,EAAID,WAAW,4BAAIjB,KAAK,GACvCC,QAAQ,CAACiB,SAAS,CAAC,CACnBX,UAAU,CAAC,CACPH,KAAK,CAAE,EAAE,CACTC,SAAS,CAAE,KACnB,CAAC,CAAC,kFAEEc,OAAO,CAACC,KAAK,aAAO,qEAE3B,kBApBKZ,WAAU,0CAoBf,CACD;AACA;AACA;AACA,GAAMa,SAAQ,6FAAG,yOAEcX,MAAK,CAAC,YAAY,CAAC,QAApCK,QAAQ,uCACWA,SAAQ,CAACC,IAAI,EAAE,QAAlCM,UAAU,gBAChBrB,QAAQ,CAACqB,UAAU,CAACC,OAAO,CAAC,yBACFb,MAAK,CAAC,sBAAsB,CAAC,SAAjDc,WAAW,wCACiBA,YAAW,CAACR,IAAI,EAAE,SAA9CS,mBAAmB,gBACzBtB,iBAAiB,CAACsB,mBAAmB,CAACF,OAAO,CAAC,sFAE9CJ,OAAO,CAACC,KAAK,cAAO,uEAE3B,kBAXKC,SAAQ,2CAWb,CACDvB,SAAS,CAAC,UAAM,CACZuB,QAAQ,EAAE,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAO,wCACH,cAAO,IAAI,CAAC,MAAM,CAClB,KAAK,CAAEf,OAAO,CAACF,KAAM,CACrB,QAAQ,CAAE,kBAACsB,CAAC,CAAK,CACbnB,UAAU,gCAAKD,OAAO,MAAEF,KAAK,CAAEsB,CAAC,CAACC,MAAM,CAACC,KAAK,GAAE,CACnD,CAAE,CACF,SAAS,CAAE,mBAACF,CAAC,CAAK,CACdA,CAAC,CAACG,GAAG,GAAK,OAAO,EAAIrB,UAAU,EAAE,CACrC,CAAE,EACA,cACF,oBAAI,OAAK,EAAK,CACbR,KAAK,CAAC8B,GAAG,CAAC,SAAAC,IAAI,qBAAI,qBAAqBA,IAAI,CAAC3B,KAAK,EAArB2B,IAAI,CAACC,GAAG,CAAoB,GAAC,cAC1D,oBAAI,iBAAe,EAAK,CACvB9B,cAAc,CAAC4B,GAAG,CAAC,SAAAC,IAAI,qBAAI,qBAAqBA,IAAI,CAAC3B,KAAK,EAArB2B,IAAI,CAACC,GAAG,CAAoB,GAAC,GACpE,CACP"},"metadata":{},"sourceType":"module","externalDependencies":[]}