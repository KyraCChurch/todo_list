{"ast":null,"code":"var _jsxFileName = \"/Users/kyrachurch/software_homework/unit_3/todo/todo_list/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport TodoList from './components/TodoList/TodoList';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [todos, setTodos] = useState([]);\n  const [completedTodos, setCompletedTodos] = useState([]);\n  const [newTodo, setNewTodo] = useState({\n    title: '',\n    completed: false\n  });\n\n  //createTodos\n  const createTodo = async () => {\n    const body = {\n      ...newTodo\n    };\n    try {\n      const response = await fetch('/api/todos', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      });\n      const createdTodo = await response.json();\n      const todosCopy = [createdTodo, ...todos];\n      setTodos(todosCopy);\n      setNewTodo({\n        title: '',\n        completed: false\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  //deleteTodos\n  const deleteTodo = async id => {\n    try {\n      const index = completedTodos.findIndex(todo => todo._id === id);\n      const completedTodosCopy = [...completedTodos];\n      const response = await fetch(`/api/todos/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      await response.json();\n      completedTodosCopy.splice(index, 1);\n      setCompletedTodos(completedTodosCopy);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  //moveToCompleted\n  const moveToCompleted = async id => {\n    try {\n      const index = todos.findIndex(todo => todo._id === id);\n      const todosCopy = [...todos];\n      const subject = todosCopy[index];\n      subject.completed = true;\n      const response = await fetch(`/api/todos/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(subject)\n      });\n      const updatedTodo = await response.json();\n      const completedTDsCopy = [updatedTodo, ...completedTodos];\n      setCompletedTodos(completedTDsCopy);\n      todosCopy.splice(index, 1);\n      setTodos(todosCopy);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  //getTodos\n  const getTodos = async () => {\n    try {\n      const response = await fetch('/api/todos');\n      const foundTodos = await response.json();\n      setTodos(foundTodos.reverse());\n      const responseTwo = await fetch('/api/todos/completed');\n      const foundCompletedTodos = await responseTwo.json();\n      setCompletedTodos(foundCompletedTodos.reverse());\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  useEffect(() => {\n    getTodos();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(TodoList, {\n      newTodo: newTodo,\n      setNewTodo: setNewTodo,\n      createTodo: createTodo,\n      todos: todos,\n      moveToCompleted: moveToCompleted,\n      completedTodos: completedTodos,\n      deleteTodo: deleteTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(App, \"H7XBFuI7SxX/+LE/Prn40GI2vP4=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","TodoList","App","todos","setTodos","completedTodos","setCompletedTodos","newTodo","setNewTodo","title","completed","createTodo","body","response","fetch","method","headers","JSON","stringify","createdTodo","json","todosCopy","error","console","deleteTodo","id","index","findIndex","todo","_id","completedTodosCopy","splice","moveToCompleted","subject","updatedTodo","completedTDsCopy","getTodos","foundTodos","reverse","responseTwo","foundCompletedTodos"],"sources":["/Users/kyrachurch/software_homework/unit_3/todo/todo_list/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport TodoList from './components/TodoList/TodoList'\n\n\nexport default function App(){\n    const [todos, setTodos] = useState([])\n    const [completedTodos, setCompletedTodos] = useState([])\n    const [newTodo, setNewTodo] = useState({\n        title: '',\n        completed: false\n    })\n\n    //createTodos\n    const createTodo = async () => {\n        const body = {...newTodo}\n        try {\n            const response = await fetch('/api/todos', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(body)\n            })\n            const createdTodo = await response.json()\n            const todosCopy = [createdTodo,...todos]\n            setTodos(todosCopy)\n            setNewTodo({\n                title: '',\n                completed: false\n            })\n        } catch (error) {   \n            console.error(error)\n        }\n    }\n    //deleteTodos\n    const deleteTodo = async (id) => {\n        try {\n            const index = completedTodos.findIndex((todo) => todo._id === id)\n            const completedTodosCopy = [...completedTodos]\n            const response = await fetch(`/api/todos/${id}`, {\n                method: 'DELETE',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })\n            await response.json()\n            completedTodosCopy.splice(index, 1)\n            setCompletedTodos(completedTodosCopy)\n        } catch (error) {\n            console.error(error)\n        }\n    }\n    //moveToCompleted\n    const moveToCompleted = async (id) => {\n        try {\n            const index = todos.findIndex((todo) => todo._id === id)\n            const todosCopy = [...todos]\n            const subject = todosCopy[index]\n            subject.completed = true \n            const response = await fetch(`/api/todos/${id}`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(subject)\n            })\n            const updatedTodo = await response.json()\n            const completedTDsCopy = [updatedTodo, ...completedTodos]\n            setCompletedTodos(completedTDsCopy)\n            todosCopy.splice(index, 1)\n            setTodos(todosCopy)\n        } catch (error) {\n            console.error(error)\n        }\n    }\n    //getTodos\n    const getTodos = async () => {\n        try{\n            const response = await fetch('/api/todos')\n            const foundTodos = await response.json()\n            setTodos(foundTodos.reverse())\n            const responseTwo = await fetch('/api/todos/completed')\n            const foundCompletedTodos = await responseTwo.json()\n            setCompletedTodos(foundCompletedTodos.reverse())\n        } catch(error){\n            console.error(error)\n        }\n    }\n    useEffect(() => {\n        getTodos()\n    }, [])\n    return(\n        <>\n            <TodoList\n            newTodo={newTodo}\n            setNewTodo={setNewTodo}\n            createTodo={createTodo}\n            todos={todos}\n            moveToCompleted={moveToCompleted}\n            completedTodos={completedTodos}\n            deleteTodo={deleteTodo}\n            />\n        </>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}